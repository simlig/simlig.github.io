<!doctype html>

<title>Final Project</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<link rel="stylesheet" media="screen" href="ProfessionalWebsite.css">

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<body>
    <div id="center" style="font: 60px Calibri;">
    
        <div class="container">
            <div id="pages" class="carousel slide" data-interval="false" data-ride="carousel">

                <!-- Indicators -->
                <!-- <ol class="carousel-indicators" >
                    <li data-target="#pages" data-slide-to="0" class="active"></li>
                    <li data-target="#pages" data-slide-to="1"></li>
                    <li data-target="#pages" data-slide-to="2"></li>
                    <li data-target="#pages" data-slide-to="3"></li>
                    <li data-target="#pages" data-slide-to="4"></li>
                    <li data-target="#pages" data-slide-to="5"></li>
                </ol> -->

                <!-- Wrapper for slides -->
                <div class="carousel-inner">

                    <div class="item active"> 
                        <p>My name is Sam</p>
                    </div>

                    <div class="item">
                        <p>This is my website</p>
                    </div>

                    <div class="item">
                        <p>
                            Since I love all things classical
                            <br>
                            and technlogical, I figured I'd
                            <br>
                            incorporate both
                        </p>
                    </div>

                    <div class="item">
                        <p>
                            Consider this quote:
                        </p>
                    </div>

                    <div class="item" id="quote">
                        <p>

                        </p>
                    </div>

                    <div class="item">
                        <p>
                            What do you think?
                        </p>
                    </div>

                    <div class="item">
                        <p>
                            Has it inspired you?
                        </p>
                    </div>

                    <div class="item">
                        <p>
                            Made you feel something?
                        </p>
                    </div>

                    <div class="item">
                        <p>
                            If not, perhaps this will
                        </p>
                    </div>

                    <div class="item">
                        <svg class='img-responsive' id='target_intro' viewBox="0 0 1500 700"></svg>
                        <p>
                            This is a target. Play around with it
                        </p>
                    </div>

                    <div class="item">
                        <p>
                            Let's practice your aim
                        </p>
                    </div>

                    <div class="item">
                        <svg class='img-responsive' id='target' viewBox="0 0 1500 700"></svg>
                    </div>

                    <div class="item">
                        <p>
                            Nicely done!
                        </p>
                    </div>

                    <div class="item">
                        <svg class='img-responsive' id='moving_target' viewBox="0 0 1500 700"></svg>
                    </div>

                    <div class="item">
                        <p>
                            Let's pickup the pace
                        </p>
                    </div>


                   

                </div>

                <!-- Left and right controls -->
                <a class="left carousel-control" href="#pages" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left"></span>
                <span class="sr-only">Previous</span>
                </a>

                <a class="right carousel-control" href="#pages" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right"></span>
                <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
    </div>

    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>

    <!-- This file is from the JavaScript Library Snap SVG. Its used to create SVG art.
        I've gone ahead and downloaded the src file for snap svg, as the only option
        was a download system. -->
    <script src="snap.svg-min.js"></script>

    <script>

        /**
         * The first target encountered
         */
        var snap = Snap("#target_intro")

        // Creates the four circles that make up the target
        var circle1 = snap.circle(600, 350, 190);
        var circle2 = snap.circle(600, 350, 140);
        var circle3 = snap.circle(600, 350, 80);
        var circle4 = snap.circle(600, 350, 20);

        // Sets the attribute for all circles required
        setCircle1(circle1)
        setCircle2(circle2)
        setCircle3(circle3)

        // Groups all circles together, so that these functions can be
        // used on any part of the target
        var startingTargetGroup = snap.g(circle1, circle2, circle3, circle4)
        startingTargetGroup.drag(onDrag, onBegin);
        startingTargetGroup.hover(hoverOver, hoverOut);
        startingTargetGroup.mouseup(mouseUp);
        startingTargetGroup.mousedown(mouseDown);
        startingTargetGroup.touchstart(mobileTouch);


        /**
         * The shooting range target
         */
        var targetSnap = Snap("#target");
        var shootingRangeCircle1 = targetSnap.circle(600, 350, 150);
        var shootingRangeCircle2 = targetSnap.circle(600, 350, 100);
        var shootingRangeCircle3 = targetSnap.circle(600, 350, 50);
        var shootingRangeCircle4 = targetSnap.circle(600, 350, 20);

        // Sets the attributes for all of the necessary circles
        setCircle1(shootingRangeCircle1);
        setCircle2(shootingRangeCircle2);
        setCircle3(shootingRangeCircle3);

        // Groups all circles together
        var shootingRangeGroup = targetSnap.g(shootingRangeCircle1, shootingRangeCircle2, shootingRangeCircle3, shootingRangeCircle4);
        shootingRangeGroup.mousedown(shootingRange);
        shootingRangeGroup.hover(hoverOver, hoverOut);


        /**
         * The slow moving target 
         */
        var movingTargetSnap = Snap("#moving_target");
        var movingTarget1 = movingTargetSnap.circle(600, 350, 150);
        var movingTarget2 = movingTargetSnap.circle(600, 350, 100);
        var movingTarget3 = movingTargetSnap.circle(600, 350, 50);
        var movingTarget4 = movingTargetSnap.circle(600, 350, 20);

        setCircle1(movingTarget1);
        setCircle2(movingTarget2);
        setCircle3(movingTarget3);


        var movingGroup = movingTargetSnap.g(movingTarget1, movingTarget2, movingTarget3, movingTarget4);
        movingGroup.hover(hoverOver, hoverOut);

        let value = 0;
        var timerId = setInterval(animateTarget, 20);
        var boolean = true;
        var clicked = false;

        movingGroup.mousedown(clear);

        /**
         * Stops the animation 
         */
        function clear()
        {
            clearInterval(timerId);
            clicked = true;
        }

        /**
         * Creates an animation for the target 
         */
        function animateTarget()
        {
            if (value < 500 && boolean)
            {
                for (var i = value; i < value + 10; i++)
                {
                    movingGroup.transform('t' + i + ',' + (0));
                }
            }
            else
            {
                if (value > -400 && !boolean)
                {
                    for (var i = value; i > value - 10; i--)
                    {
                        movingGroup.transform('t' + i + ',' + (0));
                    }
                }

            }

            value = i;

            if (value == -400)
            {
                boolean = true;
            }
            else if (value == 500)
            {
                boolean = false;
            }
        }

        /**
         * Gets a random integer between the min and max
         */
        function getRandInteger(min, max)
        {
            return Math.floor(Math.random() * (max - min + 1) ) + min;
        }

        /**
         * Moves the target around 
         */
        function shootingRange()
        {
            shootingRangeGroup.transform('t' + (getRandInteger(-400, 600)) + ',' + (getRandInteger(-100, 250)));
        }

        /**
         * Creates the colors for the target on the outermost circle
         */
        function setCircle1(providedCircle)
        {
            // Each circle's basic attributes
            providedCircle.attr({
                fill: "blue",
                stroke: "white",
                strokeWidth: 10
            });
        }

        /**
         * Creates the colors for the target on the second-outermost circle 
         */
        function setCircle2(providedCircle)
        {
            providedCircle.attr({
                fill: "white",
                stroke: "black",
                strokeWidth: 20
            });
        }

        /**
         * Creates the colors for the target on the second to innermost circle
         */
        function setCircle3(providedCircle)
        {
            providedCircle.attr({
                fill: "red",
                stroke: "black",
                strokeWidth: 10
            });
        }

        // Functions for SVG Manipulation
        /**
         * Touching for mobile devices
         */
        function mobileTouch()
        {
            circle1.attr({
                fill: "red",
                stroke: "red"
            });

            circle2.attr({
                fill: "red",
                stroke: "red"
            });

            circle3.attr({
                fill: "red",
                stroke: "red"
            });
        }

        /**
         * Dragging for PCs
         */
        function onDrag(direction_x, direction_y)
        {
            let transform_direction_x;
            let transform_direction_y;
            let snapInvertedMatrix = this.transform().diffMatrix.invert();

            transform_direction_x = snapInvertedMatrix.x(direction_x, direction_y);
            transform_direction_y = snapInvertedMatrix.y(direction_x, direction_y);
            this.transform("t" + [transform_direction_x, transform_direction_y] + this.data('ot'));
        }

        /**
         * Sets where to begin transforming for dragging
         */
        function onBegin()
        {
            this.data('ot', this.transform().local);
        }

        /**
         * Dynamic hover when user's cursor is over the svg image
         */
        function hoverOver()
        {
            document.body.style.cursor = "pointer";
        }

        /**
         * Dynamic hover out, when user's cursor moves off of svg image
         */
        function hoverOut()
        {
            document.body.style.cursor = "default";
        }

        /**
         * Dynamic options to svg when user clicks
         */
        function mouseDown()
        {
            circle1.attr({
                fill: "red",
                stroke: "red"
            });

            circle2.attr({
                fill: "red",
                stroke: "red"
            })

            circle3.attr({
                fill: "red",
                stroke: "red"
            })
        }

        /**
         * Dynamic option for svg when user releases click
         */
        function mouseUp()
        {
            circle1.attr({
                fill: "blue",
                stroke: "white"
            });
            
            circle2.attr({
                fill: "white",
                stroke: "black"
            })

            circle3.attr({
                fill: "red",
                stroke: "black"
            })
        }

        function embedQuote(quote, author)
        {
            let quote_and_credit = quote + "    - " + author;
            document.getElementById('quote').innerHTML = quote_and_credit;
        }

        function fetchQuotes()
        {
            fetch("https://api.quotable.io/random").then((
                response) => response.json()).then((
                quote) => embedQuote(quote.content, quote.author));
        }

        fetchQuotes()

    </script>
</body>
</html>